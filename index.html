<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="辉大的代码空间">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="辉大的代码空间">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="辉大的代码空间">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> 辉大的代码空间 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">辉大的代码空间</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/09hadoop/" itemprop="url">
                  09.hadoop笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Hadoop"><a href="#Hadoop" class="headerlink" title="Hadoop"></a>Hadoop</h1><p>###课堂笔记</p>
<h4 id="HDFS-the-Hadoop-Distributed-File-System"><a href="#HDFS-the-Hadoop-Distributed-File-System" class="headerlink" title="HDFS(the Hadoop Distributed File System)"></a>HDFS(the Hadoop Distributed File System)</h4><p>具有高性能，容错机制，主从架构，可扩展等特点。<br>组成:NameNode和SecondaryNameNode</p>
<h5 id="NameNode"><a href="#NameNode" class="headerlink" title="NameNode"></a>NameNode</h5><p>云数据信息存储，包含:文件存放路径所有者，block名称和路径。  </p>
<h5 id="SecondaryNameNode"><a href="#SecondaryNameNode" class="headerlink" title="SecondaryNameNode"></a>SecondaryNameNode</h5><p>定期从NameNode获取信息每小时或100w次提交则执行checkpoint</p>
<h5 id="HA高可用性"><a href="#HA高可用性" class="headerlink" title="HA高可用性"></a>HA高可用性</h5><p>SecondaryNameNode可在NameNode宕机时接管它  </p>
<h5 id="联邦-Federaion-模式"><a href="#联邦-Federaion-模式" class="headerlink" title="联邦(Federaion)模式"></a>联邦(Federaion)模式</h5><p>多个独立NameNode,每个NameNode管理namespace的一部分  </p>
<h5 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h5><p>常用端口:50070<br>命令:hadoop fs -cat/-mkdir/ls/put/rm  </p>
<h4 id="MapRedurce"><a href="#MapRedurce" class="headerlink" title="MapRedurce"></a>MapRedurce</h4><p>流程检查</p>
<h4 id="YARN"><a href="#YARN" class="headerlink" title="YARN"></a>YARN</h4><p>作为集群管理平台<br>ResourceManager 作业初始化<br>NodeManager 作业控制<br>JobHistoryManeger 历史信息<br>YARN组成:Container/ApplicationMaster  </p>
<h4 id="Hbase"><a href="#Hbase" class="headerlink" title="Hbase"></a>Hbase</h4><p>具有高可用性，支持海量数据等特点<br>基于列簇，单行事物，rowkey是唯一索引,支持PB+数据,高吞吐量  </p>
<h4 id="Hive"><a href="#Hive" class="headerlink" title="Hive"></a>Hive</h4><p>使用Sql查询，可ETL转码文字  </p>
<h4 id="Impala"><a href="#Impala" class="headerlink" title="Impala"></a>Impala</h4><p>效率高于Hive</p>
<h4 id="Spark"><a href="#Spark" class="headerlink" title="Spark"></a>Spark</h4><p>大规模数据处理引擎  </p>
<h4 id="solr"><a href="#solr" class="headerlink" title="solr"></a>solr</h4><p>搜索服务器</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/05c++/" itemprop="url">
                  05.c++笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h1><h3 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h3><p>标准库<code>#include &lt;iostream&gt;</code><br>不属于标准库的<code>#include &quot;my_H.h&quot;</code> </p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><p>文件重定向:<code>$ addItems &lt;infile &gt;outfile</code> </p>
<h4 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h4><h5 id="算数类型"><a href="#算数类型" class="headerlink" title="算数类型"></a>算数类型</h5><p>整形<br>浮点型 </p>
<h5 id="算数类型-1"><a href="#算数类型-1" class="headerlink" title="算数类型"></a>算数类型</h5>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/04nodejs/" itemprop="url">
                  04.node.js笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h1><p><a href="http://www.runoob.com/nodejs/nodejs-tutorial.html" target="_blank" rel="external">教程1</a><br><a href="http://nqdeng.github.io/7-days-nodejs/#1.1" target="_blank" rel="external">教程2-7天学会node.js</a><br><a href="http://nodeapi.ucdok.com/#/api/" target="_blank" rel="external">API</a><br><a href="http://www.expressjs.com.cn/" target="_blank" rel="external">Express</a></p>
<h3 id="hello-world"><a href="#hello-world" class="headerlink" title="hello,world"></a>hello,world</h3><h4 id="引入-required-模块并创建服务器"><a href="#引入-required-模块并创建服务器" class="headerlink" title="引入 required 模块并创建服务器"></a>引入 required 模块并创建服务器</h4><p><code>var http = require(&quot;http&quot;);</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">request, response</span>) </span>&#123;</div><div class="line">    <span class="comment">// 发送 HTTP 头部</span></div><div class="line">    <span class="comment">// HTTP 状态值: 200 : OK</span></div><div class="line">    <span class="comment">// 内容类型: text/plain</span></div><div class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span>&#125;);</div><div class="line">    <span class="comment">// 发送响应数据 "Hello World"</span></div><div class="line">    response.end(<span class="string">'Hello World\n'</span>);</div><div class="line">&#125;).listen(<span class="number">8888</span>);</div><div class="line"><span class="comment">// 终端打印如下信息</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Server running at http://127.0.0.1:8888/'</span>);</div></pre></td></tr></table></figure></p>
<p>运行server端:<code>node server.js</code></p>
<h3 id="npm升级-安装模块"><a href="#npm升级-安装模块" class="headerlink" title="npm升级/安装模块"></a>npm升级/安装模块</h3><p><code>npm install npm -g</code><br><code>npm install express</code> 安装express模块<br><code>var express = require(&#39;express&#39;);</code> 引用模块<br>-g参数:全局安装，不带为本地安装<br><code>$ npm ls -g</code>查看全局安装的模块<br><code>npm uninstall/update/search express</code> 卸载/更新/搜索模块</p>
<h3 id="npm常用命令"><a href="#npm常用命令" class="headerlink" title="npm常用命令"></a>npm常用命令</h3><p>使用npm help <command>可查看某条命令的详细帮助，例如npm help install。<br>在package.json所在目录下使用npm install . -g可先在本地安装当前命令行程序，可用于发布前的本地测试。<br>使用npm cache clear可以清空NPM本地缓存，用于对付使用相同版本号发布新版本代码的人。</p>
<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><p>package.json 位于模块的目录下，用于定义包的属性。</p>
<h4 id="Package-json-属性说明"><a href="#Package-json-属性说明" class="headerlink" title="Package.json 属性说明"></a>Package.json 属性说明</h4><p>name - 包名。<br>version - 包的版本号。<br>description - 包的描述。<br>homepage - 包的官网 url 。<br>author - 包的作者姓名。<br>contributors - 包的其他贡献者姓名。<br>dependencies - 依赖包列表。如果依赖包没有安装，npm 会自动将依赖包安装在 node_module 目录下。<br>repository - 包代码存放的地方的类型，可以是 git 或 svn，git 可在 Github 上。<br>main - main 字段是一个模块ID，它是一个指向你程序的主要项目。就是说，如果你包的名字叫 express，然后用户安装它，然后require(“express”)。<br>keywords - 关键字</p>
<h3 id="非阻塞代码"><a href="#非阻塞代码" class="headerlink" title="非阻塞代码"></a>非阻塞代码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line">fs.readFile(<span class="string">'input.txt'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err);</div><div class="line">    <span class="built_in">console</span>.log(data.toString());</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"程序执行结束!"</span>);</div></pre></td></tr></table></figure>
<h3 id="事件驱动程序"><a href="#事件驱动程序" class="headerlink" title="事件驱动程序"></a>事件驱动程序</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 引入 events 模块</span></div><div class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">'events'</span>);</div><div class="line"><span class="comment">// 创建 eventEmitter 对象</span></div><div class="line"><span class="keyword">var</span> eventEmitter = <span class="keyword">new</span> events.EventEmitter();</div><div class="line"> </div><div class="line"><span class="comment">// 创建事件处理程序</span></div><div class="line"><span class="keyword">var</span> connectHandler = <span class="function"><span class="keyword">function</span> <span class="title">connected</span>(<span class="params"></span>) </span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'连接成功。'</span>);</div><div class="line">   <span class="comment">// 触发 data_received 事件</span></div><div class="line">   eventEmitter.emit(<span class="string">'data_received'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 绑定 connection 事件处理程序</span></div><div class="line">eventEmitter.on(<span class="string">'connection'</span>, connectHandler);</div><div class="line"><span class="comment">// 使用匿名函数绑定 data_received 事件</span></div><div class="line">eventEmitter.on(<span class="string">'data_received'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'数据接收成功。'</span>);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 触发 connection 事件</span></div><div class="line">eventEmitter.emit(<span class="string">'connection'</span>);</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(<span class="string">"程序执行完毕。"</span>);</div></pre></td></tr></table></figure>
<h4 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//event.js 文件</span></div><div class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">'events'</span>);</div><div class="line"><span class="keyword">var</span> emitter = <span class="keyword">new</span> events.EventEmitter();</div><div class="line">emitter.on(<span class="string">'someEvent'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">arg1, arg2</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'listener1'</span>, arg1, arg2);</div><div class="line">&#125;);</div><div class="line">emitter.on(<span class="string">'someEvent'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">arg1, arg2</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'listener2'</span>, arg1, arg2);</div><div class="line">&#125;);</div><div class="line">emitter.emit(<span class="string">'someEvent'</span>, <span class="string">'arg1 参数'</span>, <span class="string">'arg2 参数'</span>);</div></pre></td></tr></table></figure>
<h4 id="EventEmitter方法"><a href="#EventEmitter方法" class="headerlink" title="EventEmitter方法"></a>EventEmitter方法</h4><p>addListener(event, listener) 为指定事件添加一个监听器到监听器数组的尾部。<br>on(event, listener) 为指定事件注册一个监听器，接受一个字符串 event 和一个回调函数。<br>once(event, listener) 为指定事件注册一个单次监听器，即 监听器最多只会触发一次，触发后立刻解除该监听器。<br>removeListener(event, listener) 移除指定事件的某个监听器，监听器 必须是该事件已经注册过的监听器。<br>removeAllListeners([event]) 移除所有事件的所有监听器， 如果指定事件，则移除指定事件的所有监听器。<br>setMaxListeners(n)  默认情况下， EventEmitters 如果你添加的监听器超过 10 个就会输出警告信息。 setMaxListeners 函数用于提高监听器的默认限制的数量。<br>listeners(event) 返回指定事件的监听器数组。<br>emit(event, [arg1], [arg2], […])按参数的顺序执行每个监听器，如果事件有注册监听返回 true，否则返回 false。</p>
<blockquote>
<p>类方法 listenerCount(emitter, event) 返回指定事件的监听器数量。</p>
</blockquote>
<h4 id="error事件"><a href="#error事件" class="headerlink" title="error事件"></a>error事件</h4><p><a href="http://www.runoob.com/nodejs/nodejs-buffer.html" target="_blank" rel="external">链接</a><br>EventEmitter 定义了一个特殊的事件 error，它包含了错误的语义，我们在遇到 异常的时候通常会触发 error 事件。<br>当 error 被触发时，EventEmitter 规定如果没有响 应的监听器，Node.js 会把它当作异常，退出程序并输出错误信息。<br>我们一般要为会触发 error 事件的对象设置监听器，避免遇到错误后整个程序崩溃。</p>
<h3 id="Buffer类-缓冲区"><a href="#Buffer类-缓冲区" class="headerlink" title="Buffer类(缓冲区)"></a>Buffer类(缓冲区)</h3><p><code>var buf = new Buffer(10);</code><br><code>var buf = new Buffer([10, 20, 30, 40, 50]);</code><br><code>var buf = new Buffer(&quot;www.runoob.com&quot;, &quot;utf-8&quot;); //utf-8是默认编码格式，可替换成&quot;ascii&quot;, &quot;utf8&quot;, &quot;utf16le&quot;, &quot;ucs2&quot;, &quot;base64&quot; 和 &quot;hex&quot;。</code><br><code>buf.write(string[, offset[, length]][, encoding])</code>写入数据<br><code>buf.toString([encoding[, start[, end]]])</code>读取数据<br><code>buf.toJSON()</code>将Buffer转为json<br><code>Buffer.concat(list[, totalLength])</code> 缓冲区合并<br><code>buf.compare(otherBuffer);</code> 缓冲区比较<br><code>buf.copy(targetBuffer[, targetStart[, sourceStart[, sourceEnd]]])</code> 拷贝缓冲区<br><code>buf.slice([start[, end]])</code> 裁剪缓冲区<br><code>buf.length;</code> 缓冲区长度 </p>
<h3 id="Stream-流"><a href="#Stream-流" class="headerlink" title="Stream(流)"></a>Stream(流)</h3><p>Stream 是一个抽象接口，Node 中有很多对象实现了这个接口。例如，对http 服务器发起请求的request 对象就是一个 Stream，还有stdout（标准输出）。<br>Node.js，Stream 有四种流类型：</p>
<ul>
<li>Readable - 可读操作。</li>
<li>Writable - 可写操作。</li>
<li>Duplex - 可读可写操作.</li>
<li>Transform - 操作被写入数据，然后读出结果。</li>
</ul>
<p>所有的 Stream 对象都是 EventEmitter 的实例。常用的事件有：</p>
<ul>
<li>data - 当有数据可读时触发。</li>
<li>end - 没有更多的数据可读时触发。</li>
<li>error - 在接收和写入过程中发生错误时触发。</li>
<li>finish - 所有数据已被写入到底层系统时触发。</li>
</ul>
<h4 id="读取流"><a href="#读取流" class="headerlink" title="读取流"></a>读取流</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="keyword">var</span> data = <span class="string">''</span>;</div><div class="line"><span class="comment">// 创建可读流</span></div><div class="line"><span class="keyword">var</span> readerStream = fs.createReadStream(<span class="string">'input.txt'</span>);</div><div class="line"><span class="comment">// 设置编码为 utf8。</span></div><div class="line">readerStream.setEncoding(<span class="string">'UTF8'</span>);</div><div class="line"><span class="comment">// 处理流事件 --&gt; data, end, and error</span></div><div class="line">readerStream.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</div><div class="line">   data += chunk;</div><div class="line">&#125;);</div><div class="line">readerStream.on(<span class="string">'end'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(data);</div><div class="line">&#125;);</div><div class="line">readerStream.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(err.stack);</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"程序执行完毕"</span>);</div></pre></td></tr></table></figure>
<h4 id="写入流"><a href="#写入流" class="headerlink" title="写入流"></a>写入流</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="keyword">var</span> data = <span class="string">'菜鸟教程官网地址：www.runoob.com'</span>;</div><div class="line"><span class="comment">// 创建一个可以写入的流，写入到文件 output.txt 中</span></div><div class="line"><span class="keyword">var</span> writerStream = fs.createWriteStream(<span class="string">'output.txt'</span>);</div><div class="line"><span class="comment">// 使用 utf8 编码写入数据</span></div><div class="line">writerStream.write(data,<span class="string">'UTF8'</span>);</div><div class="line"><span class="comment">// 标记文件末尾</span></div><div class="line">writerStream.end();</div><div class="line"><span class="comment">// 处理流事件 --&gt; data, end, and error</span></div><div class="line">writerStream.on(<span class="string">'finish'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"写入完成。"</span>);</div><div class="line">&#125;);</div><div class="line">writerStream.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(err.stack);</div><div class="line">&#125;);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"程序执行完毕"</span>);</div></pre></td></tr></table></figure>
<h4 id="管道流"><a href="#管道流" class="headerlink" title="管道流"></a>管道流</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="comment">// 创建一个可读流</span></div><div class="line"><span class="keyword">var</span> readerStream = fs.createReadStream(<span class="string">'input.txt'</span>);</div><div class="line"><span class="comment">// 创建一个可写流</span></div><div class="line"><span class="keyword">var</span> writerStream = fs.createWriteStream(<span class="string">'output.txt'</span>);</div><div class="line"><span class="comment">// 管道读写操作</span></div><div class="line"><span class="comment">// 读取 input.txt 文件内容，并将内容写入到 output.txt 文件中</span></div><div class="line">readerStream.pipe(writerStream);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"程序执行完毕"</span>);</div></pre></td></tr></table></figure>
<h4 id="链式流"><a href="#链式流" class="headerlink" title="链式流"></a>链式流</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="keyword">var</span> zlib = <span class="built_in">require</span>(<span class="string">'zlib'</span>);</div><div class="line"><span class="comment">// 压缩 input.txt 文件为 input.txt.gz</span></div><div class="line">fs.createReadStream(<span class="string">'input.txt'</span>)</div><div class="line">  .pipe(zlib.createGzip())</div><div class="line">  .pipe(fs.createWriteStream(<span class="string">'input.txt.gz'</span>));</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"文件压缩完成。"</span>);</div></pre></td></tr></table></figure>
<h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><p>为了让Node.js的文件可以相互调用，Node.js提供了一个简单的模块系统。<br>模块是Node.js 应用程序的基本组成部分，文件和模块是一一对应的。换言之，一个 Node.js 文件就是一个模块，这个文件可能是JavaScript 代码、JSON 或者编译过的C/C++ 扩展。<br>编写稍大一点的程序时一般都会将代码模块化。在NodeJS中，一般将代码合理拆分到不同的JS文件中，每一个文件就是一个模块，而文件路径就是模块名。<br>在编写每个模块时，都有<code>require</code>、<code>exports</code>、<code>module</code>三个预先定义好的变量可供使用。</p>
<h4 id="require"><a href="#require" class="headerlink" title="require"></a>require</h4><p>require函数用于在当前模块中加载和使用别的模块，传入一个模块名，返回一个模块导出对象。模块名可使用相对路径（以./开头），或者是绝对路径（以/或C:之类的盘符开头）。另外，模块名中的.js扩展名可以省略。</p>
<h4 id="exports"><a href="#exports" class="headerlink" title="exports"></a>exports</h4><p>exports对象是当前模块的导出对象，用于导出模块公有方法和属性。别的模块通过require函数使用当前模块时得到的就是当前模块的exports对象。以下例子中导出了一个公有方法。</p>
<h4 id="module"><a href="#module" class="headerlink" title="module"></a>module</h4><p>通过module对象可以访问到当前模块的一些相关信息，但最多的用途是替换当前模块的导出对象。例如模块导出对象默认是一个普通对象，如果想改成一个函数的话，可以使用以下方式。</p>
<h3 id="Linux-编译安装"><a href="#Linux-编译安装" class="headerlink" title="Linux 编译安装"></a>Linux 编译安装</h3><p>编译安装<br>Linux系统下没有现成的安装程序可用，虽然一些发行版可以使用apt-get之类的方式安装，但不一定能安装到最新版。因此Linux系统下一般使用以下方式编译方式安装NodeJS。</p>
<ol>
<li>确保系统下g++版本在4.6以上，python版本在2.6以上。</li>
<li>从nodejs.org下载tar.gz后缀的NodeJS最新版源代码包并解压到某个位置。</li>
<li>进入解压到的目录，使用以下命令编译和安装。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ ./configure</div><div class="line">$ make</div><div class="line">$ sudo make install</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="文件拷贝"><a href="#文件拷贝" class="headerlink" title="文件拷贝"></a>文件拷贝</h3><p>小文件拷贝: </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">copy</span>(<span class="params">src, dst</span>) </span>&#123;</div><div class="line">    fs.writeFileSync(dst, fs.readFileSync(src));</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">argv</span>) </span>&#123;</div><div class="line">    copy(argv[<span class="number">0</span>], argv[<span class="number">1</span>]);</div><div class="line">&#125;</div><div class="line">main(process.argv.slice(<span class="number">2</span>));</div></pre></td></tr></table></figure>
<p>process是一个全局变量，可通过process.argv获得命令行参数。由于argv[0]固定等于NodeJS执行程序的绝对路径，argv[1]固定等于主模块的绝对路径，因此第一个命令行参数从argv[2]这个位置开始。 </p>
<p>大文件拷贝:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">copy</span>(<span class="params">src, dst</span>) </span>&#123;</div><div class="line">    fs.createReadStream(src).pipe(fs.createWriteStream(dst));</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params">argv</span>) </span>&#123;</div><div class="line">    copy(argv[<span class="number">0</span>], argv[<span class="number">1</span>]);</div><div class="line">&#125;</div><div class="line">main(process.argv.slice(<span class="number">2</span>));</div></pre></td></tr></table></figure>
<h3 id="工程目录"><a href="#工程目录" class="headerlink" title="工程目录"></a>工程目录</h3><p>了解了以上知识后，现在我们可以来完整地规划一个工程目录了。以编写一个命令行程序为例，一般我们会同时提供命令行模式和API模式两种使用方式，并且我们会借助三方包来编写代码。除了代码外，一个完整的程序也应该有自己的文档和测试用例。因此，一个标准的工程目录都看起来像下边这样。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- /home/user/workspace/node-echo/   # 工程目录</div><div class="line">    - bin/                          # 存放命令行相关代码</div><div class="line">        node-echo</div><div class="line">    + doc/                          # 存放文档</div><div class="line">    - lib/                          # 存放API相关代码</div><div class="line">        echo.js</div><div class="line">    - node_modules/                 # 存放三方包</div><div class="line">        + argv/</div><div class="line">    + tests/                        # 存放测试用例</div><div class="line">    package.json                    # 元数据文件</div><div class="line">    README.md                       # 说明文件</div></pre></td></tr></table></figure></p>
<h3 id="HTTP-Server"><a href="#HTTP-Server" class="headerlink" title="HTTP Server"></a>HTTP Server</h3><h4 id="创建Server"><a href="#创建Server" class="headerlink" title="创建Server"></a>创建Server</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http=<span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">    res.writeHead(<span class="number">200</span>,&#123;<span class="string">'Content-Type'</span>:<span class="string">'text/html'</span>&#125;);</div><div class="line">    res.write(<span class="string">'&lt;h1&gt;Node.js&lt;/h1&gt;'</span>);</div><div class="line">    res.end(<span class="string">'&lt;p&gt;Hello World&lt;/p&gt;'</span>);</div><div class="line">&#125;).listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure>
<h4 id="获取GET请求内容"><a href="#获取GET请求内容" class="headerlink" title="获取GET请求内容"></a>获取GET请求内容</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http=<span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"><span class="keyword">var</span> url=<span class="built_in">require</span>(<span class="string">'url'</span>);</div><div class="line"><span class="keyword">var</span> util=<span class="built_in">require</span>(<span class="string">'util'</span>);</div><div class="line"> </div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  res.writeHead(<span class="number">200</span>,&#123;<span class="string">'Content-Type'</span>:<span class="string">'text/html'</span>&#125;);</div><div class="line">  res.end(util.inspect(url.parse(req.url,<span class="literal">true</span>))); <span class="comment">//通过url.parse,原始的path被解析为一个对象，其中的query就是GET请求的内容,pathname则是路径</span></div><div class="line">&#125;).listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure>
<h4 id="获取POST请求内容-仅测试，有效率和安全问题"><a href="#获取POST请求内容-仅测试，有效率和安全问题" class="headerlink" title="获取POST请求内容(仅测试，有效率和安全问题)"></a>获取POST请求内容(仅测试，有效率和安全问题)</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http=<span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"><span class="keyword">var</span> querystring=<span class="built_in">require</span>(<span class="string">'querystring'</span>);</div><div class="line"><span class="keyword">var</span> util=<span class="built_in">require</span>(<span class="string">'util'</span>);</div><div class="line"> </div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> post=<span class="string">''</span>;</div><div class="line"> </div><div class="line">  req.on(<span class="string">'data'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>))</span>&#123;</div><div class="line">    post+=chunk;</div><div class="line">  &#125;);</div><div class="line"> </div><div class="line">  req.on(<span class="string">'end'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    post=querystring.parse(post);</div><div class="line">    res.end(util.inspect(post));</div><div class="line">  &#125;);</div><div class="line"> </div><div class="line">&#125;).listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure>
<h3 id="Node-js-Web开发实战"><a href="#Node-js-Web开发实战" class="headerlink" title="Node.js Web开发实战"></a>Node.js Web开发实战</h3><h4 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h4><ul>
<li>模型是对象及其数据结构的实现，通常包含数据库操作</li>
<li>视图表示用户界面，在网站中通常就是HTML的组织结构</li>
<li>控制器用于处理用户请求和数据流,复杂模型，将输出传递给视图。</li>
</ul>
<h4 id="Express框架"><a href="#Express框架" class="headerlink" title="Express框架"></a>Express框架</h4><p>示例<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express =<span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> app=express.createServer();</div><div class="line">app.use(express.bodyParser());</div><div class="line">app.all(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">rq,res</span>)</span>&#123;</div><div class="line">  res.send(req.body.title+req.body.text);</div><div class="line">&#125;);</div><div class="line">app.listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure></p>
<p>通过应用生成器工具 express 可以快速创建一个应用的骨架。<br><code>$ npm install express-generator -g</code> </p>
<h4 id="路由规划"><a href="#路由规划" class="headerlink" title="路由规划"></a>路由规划</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">/ 首页 app.get(&apos;/&apos;,routes.index);</div><div class="line">/u/[user] 用户主页 app.get(&apos;/u/:user&apos;,routes.user);</div><div class="line">/post 发表信息 app.post(&apos;/post&apos;,routes.post);</div><div class="line">/reg 用户注册 app.get(&apos;/reg&apos;,routes.reg); app.post(&apos;/reg&apos;,routes.doreg);</div><div class="line">/login 用户登录</div><div class="line">/logout 用户登出</div></pre></td></tr></table></figure>
<p>repository:<a href="https://github.com/yuanzm/microblog" target="_blank" rel="external">https://github.com/yuanzm/microblog</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/03_2lua/" itemprop="url">
                  03.2.Lua语言笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Lua"><a href="#Lua" class="headerlink" title="Lua"></a>Lua</h1><p><a href="http://manual.luaer.cn/" target="_blank" rel="external">中文手册</a>  </p>
<h3 id="交互模式"><a href="#交互模式" class="headerlink" title="交互模式"></a>交互模式</h3><p>进入：lua  </p>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><p>-i：进入交互模式<br>dofile(“name”) 可交互模式测试代码<br>-l：加载一个文件<br>-e：直接传命令至lua<br>args变量:参数</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>helloword<br>‘print(hello,world)’<br>注释 –<br>变量 a=10<br>删除变量 a=nil<br>==相等<br>~=不相等<br>逻辑运算 and / or / not<br>..连接运算  “aa”..”bb” –&gt; “aabb”<br>局部变量 local<br>句末的;可加可不加  </p>
<h4 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h4><p>使用do…end来包围代码以在交互模式下运行</p>
<h4 id="if判断-if-elseif-else-end"><a href="#if判断-if-elseif-else-end" class="headerlink" title="if判断 if elseif else end.."></a>if判断 if elseif else end..</h4><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> i&gt;<span class="number">20</span> <span class="keyword">then</span></div><div class="line">  <span class="keyword">local</span> a</div><div class="line">  a=<span class="number">20</span></div><div class="line"><span class="keyword">else</span></div><div class="line">  a=<span class="number">0</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h4 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h4><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">io</span>.lines() <span class="keyword">do</span></div><div class="line">  list=&#123;<span class="built_in">next</span>=list,value=a&#125;</div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">while</span> a&gt;<span class="number">1</span> <span class="keyword">do</span></div><div class="line">  a<span class="comment">--;</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">repeat</span></div><div class="line">  a++;</div><div class="line"><span class="keyword">until</span> a&gt;<span class="number">1</span>;</div><div class="line"></div><div class="line"><span class="comment">--for第三个参数step可省略,默认1</span></div><div class="line"><span class="keyword">for</span> a=<span class="number">1</span>,<span class="number">10</span>,<span class="number">1</span> <span class="keyword">do</span></div><div class="line">  <span class="built_in">print</span>(a)</div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="comment">--范型for循环</span></div><div class="line"><span class="keyword">for</span> a <span class="keyword">in</span> tb1 <span class="keyword">do</span> <span class="built_in">print</span>(a) <span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>break:退出循环<br>iparis(table)遍历</p>
<h4 id="require"><a href="#require" class="headerlink" title="require"></a>require</h4><p>加载运行库</p>
<h4 id="错误-error-“my-error”"><a href="#错误-error-“my-error”" class="headerlink" title="错误 error(“my error”)"></a>错误 error(“my error”)</h4><p>debug库可收集错误信息<br>debug.debug:给出lua的提示符<br>debug,traceback:给出更多的错误信息</p>
<h3 id="基本变量类型"><a href="#基本变量类型" class="headerlink" title="基本变量类型"></a>基本变量类型</h3><ol>
<li>nil  </li>
<li>boolean(true,false)</li>
<li>number<br>lua没有整数,number表示实数，无需担心误差</li>
<li>string</li>
<li>userdata<br>userdata可以将C数据放在lua变量中</li>
<li>function<br>函数</li>
<li>thread</li>
<li>table<br>创建表  <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">tb1=&#123;"cell1","cell2","cell3"&#125;</div><div class="line">```  </div><div class="line"></div><div class="line">weak table:(\_\_mode=\"k(key) or v(value)\")会被lua内存垃圾回收收集</div><div class="line">type(变量):测试函数类型</div><div class="line">字符串和数字运算时自动转换成string</div><div class="line">### 保留字</div><div class="line">&gt; and break do else</div><div class="line">elseif end false for</div><div class="line">function if in local</div><div class="line">nil not or repeat</div><div class="line">return then true until</div><div class="line">while</div><div class="line"></div><div class="line">### 函数</div><div class="line">``` lua</div><div class="line">function func_name(args)</div><div class="line">  xxx;</div><div class="line">end;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>当函数只有一个参数，且是字符串或表构造函数，则无需使用()来调用函数:<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span> <span class="string">"Lua"</span>;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>lua使用的函数也可以是其他语言编写的  </p>
</blockquote>
<p>Lua函数可以有多个返回值<br><code>retun para1,para2;</code><br>可变参数:f(unpack(a)):unpack返回a所有的元素作为f的参数<br>…:表示参数<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span><span class="params">(...)</span></span></div><div class="line">  <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">ipairs</span>(arg) <span class="keyword">do</span></div><div class="line">    xxx</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure></p>
<p>_,x=strinig.find(a,b) 哑元(只返回第二个参数)<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Go</span><span class="params">(opts)</span></span></div><div class="line">  xxx;</div><div class="line">  _Go(opts.x <span class="keyword">or</span> <span class="number">0</span>,opts.y <span class="keyword">or</span> <span class="number">0</span>)</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure></p>
<h4 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h4><p><code>print(function(a) xxx end)</code></p>
<h3 id="协同"><a href="#协同" class="headerlink" title="协同"></a>协同</h3><p>协同有三个状态挂起态(suspended),运行态(runnig),停止态（dead）,create时为挂起，调用resume(co)后为运行态，完成后，dead<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">co=<span class="built_in">coroutine</span>.create(</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="params">()</span></span> <span class="built_in">print</span> <span class="string">"1"</span>; <span class="keyword">end</span>;</div><div class="line">  )</div></pre></td></tr></table></figure></p>
<p>yield()函数能挂起</p>
<h3 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Account=&#123;balance=<span class="number">0</span>&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Account.withdraw</span><span class="params">(self/this(可隐藏)</span></span>,v)</div><div class="line">  self.balance=Account.balance-v</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p><code>VipAccount=Account:new()</code>  </p>
<h3 id="标准库"><a href="#标准库" class="headerlink" title="标准库"></a>标准库</h3><h4 id="数学库math"><a href="#数学库math" class="headerlink" title="数学库math"></a>数学库math</h4><p>math: sin/rad/deg…<br>math.randomseed(os.time()) //避免重复随机数  </p>
<h4 id="Table库"><a href="#Table库" class="headerlink" title="Table库"></a>Table库</h4><p>table.getn():返回table大小<br>setn():设置table大小<br>insert()/remove()<br>sort()  </p>
<h4 id="String库"><a href="#String库" class="headerlink" title="String库"></a>String库</h4><p>upper(“”)/lower(s)<br>len(s)<br>rep(s,n) –返回重复n次字符串s的值<br>sub()<br>char()/byte() 转换<br>format(“%d”,s) 格式化字符串<br>find(s,”abc”) 查找abc,第二个参数能使用修饰模式(+-*\?)<br>gsub()  </p>
<h4 id="IO库"><a href="#IO库" class="headerlink" title="IO库"></a>IO库</h4><p>io.write(“”)/io.read(“*all”)<br>io.lines()<br>io.open(“/etc/aaaa”,”w/r”(二进制:wb,rb))</p>
<h4 id="系统库"><a href="#系统库" class="headerlink" title="系统库"></a>系统库</h4><p>os.rename() 修改文件名<br>os.remove() 删除文件<br>os.time()/os.date()<br>os.getenv(“HOME”) 环境变量<br>os.execute(“dir”) 执行系统命令<br>os.setlocale(“GBK”,”xxx”) 设置地区特性  </p>
<h4 id="Debug库"><a href="#Debug库" class="headerlink" title="Debug库"></a>Debug库</h4><p>debug.info 自省函数<br>debug.traceback()<br>debug.setlocal/getlocal 设置/获取一个局部变量<br>debug.getupvalue(func,i) 获取upvalue级别  </p>
<h5 id="Hooks-跟踪器"><a href="#Hooks-跟踪器" class="headerlink" title="Hooks 跟踪器"></a>Hooks 跟踪器</h5><p>debug.sethook(print,”999”)  </p>
<h3 id="C-API"><a href="#C-API" class="headerlink" title="C API"></a>C API</h3><p>C API是一个C代码与Lua进行交互的函数集<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;lua.h&gt;</span>  <span class="comment">//LUA基础函数</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;luaxlib.h&gt;</span> <span class="comment">//辅助库</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;lualib.h&gt;</span></span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</div><div class="line">  <span class="keyword">int</span> a=<span class="number">0</span>;</div><div class="line">  lua_State \*L=lua_open();</div><div class="line">  luaopen_base(L);</div><div class="line">  luaopen_table(L);</div><div class="line">  luaopen_string(L);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="读取配置文件"><a href="#读取配置文件" class="headerlink" title="读取配置文件"></a>读取配置文件</h4><p>height=1000<br>lua_getglobal(L,”width”);</p>
<h4 id="调用lua函数"><a href="#调用lua函数" class="headerlink" title="调用lua函数"></a>调用lua函数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> a=<span class="number">1</span>;</div><div class="line">lua_getglobal(L,<span class="string">"func"</span>);</div><div class="line">lua_pushnumber(L,x);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/03_1c/" itemprop="url">
                  03.1.C语言笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="C"><a href="#C" class="headerlink" title="C"></a>C</h1><h3 id="预处理"><a href="#预处理" class="headerlink" title="预处理"></a>预处理</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ABC 1<span class="comment">//宏定义</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="comment">//包含</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">if</span> #<span class="meta-keyword">ifdef</span> #<span class="meta-keyword">ifndef</span> #<span class="meta-keyword">elif</span> #<span class="meta-keyword">else</span> #<span class="meta-keyword">endif</span> <span class="comment">//条件编译</span></span></div></pre></td></tr></table></figure>
<p>预处理指令总是在一行，除非使用“\”来换行  </p>
<h4 id="宏"><a href="#宏" class="headerlink" title="宏"></a>宏</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//宏甚至可以改变语法如用BEGIN替代&#123;&#125;</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> BEGIN &#123;</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> END &#125;</span></div><div class="line"><span class="comment">//控制条件编译</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> DEBUG</span></div><div class="line"><span class="comment">//带参数的宏</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX(x,y)</span></div></pre></td></tr></table></figure>
<p>#将宏的参数转化为一个字符串字面量<br>##可以将两个记号粘合成为一个记号<br>#undef 取消宏  </p>
<h5 id="预定义宏"><a href="#预定义宏" class="headerlink" title="预定义宏"></a>预定义宏</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">__LINE__ 被编译文件中的行号  </div><div class="line">__FILE__ 被编译的文件名  </div><div class="line">__DATE__ 编译的日期  </div><div class="line">__TIME__ 编译的时间  </div><div class="line">__STDC__ 如果编译器符合C标准，则值为1</div><div class="line">__STDC__VERSION__ 支持的C标准版本(c99)</div><div class="line">__func__ 函数名</div></pre></td></tr></table></figure>
<p>参数加…(c99)参数可变  </p>
<h4 id="条件编译"><a href="#条件编译" class="headerlink" title="条件编译"></a>条件编译</h4><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">if defined(WIN32)</div><div class="line">...</div><div class="line">#elif defined(MAC_OS)</div><div class="line">...</div><div class="line">#elif defined(LINUX)</div><div class="line">...</div><div class="line">#endif</div></pre></td></tr></table></figure>
<h4 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h4><p>#error 显示一条包含消息的出错消息<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#if A&lt;100</div><div class="line">#error int type is too small</div><div class="line">#endif</div></pre></td></tr></table></figure></p>
<p>#line 100 改变行号(行号从100开始)</p>
<h4 id="避免多次包含"><a href="#避免多次包含" class="headerlink" title="避免多次包含"></a>避免多次包含</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> ABC_H</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ABC_H</span></div></pre></td></tr></table></figure>
<h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><h4 id="结构的声明"><a href="#结构的声明" class="headerlink" title="结构的声明"></a>结构的声明</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> abc&#123;</div><div class="line">  <span class="keyword">int</span> a;</div><div class="line">  <span class="keyword">char</span> b;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><p><code>enum {ABC,DEF} s1,s2</code><br>即ABC,DEF的值能赋值给s1,s2变量  </p>
<h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><p>*取地址,&amp;逆运算,取该地址的值</p>
<h4 id="动态调节指针存储空间"><a href="#动态调节指针存储空间" class="headerlink" title="动态调节指针存储空间"></a>动态调节指针存储空间</h4><p>p=(char *)malloc(n+1):为字符串动态分配内存<br>a=calloc(n,sizeof(int))<br>realloc(p)：调整数组大小以符合需要<br>free(p):释放内存(如果再访问可能会有悬空指针的问题)</p>
<h4 id="“-gt-”右箭头选择"><a href="#“-gt-”右箭头选择" class="headerlink" title="“-&gt;”右箭头选择"></a>“-&gt;”右箭头选择</h4><p>-&gt;相当于.和*的结合</p>
<h3 id="存储类型"><a href="#存储类型" class="headerlink" title="存储类型"></a>存储类型</h3><p>auto 只对属于块的变量有效,默认,无需明确声明<br>static 静态，无限期保留值<br>extern 使几个源文件可以共享一个变量<br>register 不保留在内存，而是在CPU寄存器中(适合频繁访问或更新的对象)<br>函数的存储类型:extern/static</p>
<p>####内联函数(c99)<br>inline int a(){}:内联函数，(内联表明把函数调用使用机器指令代替，加快速度)</p>
<h3 id="标准库"><a href="#标准库" class="headerlink" title="标准库"></a>标准库</h3><h4 id="c89标准库"><a href="#c89标准库" class="headerlink" title="c89标准库"></a>c89标准库</h4><ol>
<li>assert.h 诊断</li>
<li>ctype.h 字符处理</li>
<li>errno.h 错误</li>
<li>float.h 浮点类型的特性</li>
<li>limits.h 整数类型的大小</li>
<li>locale.h 本地化</li>
<li>math.h 数学计算</li>
<li>setjmp.h 非本地跳转</li>
<li>signal.h 信号处理</li>
<li>stdarg.h 可变参数</li>
<li>stddef.h 常用定义</li>
<li>stdio.h 输入输出</li>
<li>stdlib.h 实用程序</li>
<li>string.h 字符串处理</li>
<li>time.h 日期和时间</li>
</ol>
<h4 id="c99标准库"><a href="#c99标准库" class="headerlink" title="c99标准库"></a>c99标准库</h4><ol>
<li>ccmplex.h 复数计算</li>
<li>fenv.h 浮点环境</li>
<li>inttypes.h 整数类型格式转换</li>
<li>iso646.h 拼写转换</li>
<li>stdbool.h 布尔类型和值</li>
<li>stdint.h 整数类型</li>
<li>tgmath.h 泛型数学</li>
<li>wchar.h 扩展的多字节和宽字符实用程序</li>
<li>wctype.h 宽字符分类和映射实用工具</li>
</ol>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="printf"><a href="#printf" class="headerlink" title="printf"></a>printf</h4><p>d 以十进制形式输出带符号整数(正数不输出符号)<br>o 以八进制形式输出无符号整数(不输出前缀0)<br>x,X 以十六进制形式输出无符号整数(不输出前缀Ox)<br>u 以十进制形式输出无符号整数<br>f 以小数形式输出单、双精度实数<br>e,E 以指数形式输出单、双精度实数<br>g,G 以%f或%e中较短的输出宽度输出单、双精度实数<br>c 输出单个字符<br>s 输出字符串   </p>
<h4 id="getc-putc-读-写"><a href="#getc-putc-读-写" class="headerlink" title="getc/putc 读/写"></a>getc/putc 读/写</h4><p>getc/fgetc(FILE <em> stream) 从文件读取char<br>getchar() 从标准输入流stdin读入一个字符<br>putc/fputc(ch,fp) 写入char<br>putchar() 从标准输出流stdout写一个字符<br>gets(\</em>s)/puts(*s) 读写一个行<br>fread(list,sizeof(list[0]),sizeof(list)/sizeof(list[0]),fp)/fwrite(list,sizeof(list[0]),sizeof(list)/sizeof(list[0]),fp) 块读取写入  </p>
<h4 id="fseek-查找文件"><a href="#fseek-查找文件" class="headerlink" title="fseek() 查找文件"></a>fseek() 查找文件</h4><p>SEEK_SET 文件的起始处<br>SEEK_CUR 文件的当前位置<br>SEEK_END 文件末尾处<br>fseek(fp,0L,SEEK_SET) //搜索开头  </p>
<h4 id="sprintf-sscanf-读写入字符串"><a href="#sprintf-sscanf-读写入字符串" class="headerlink" title="sprintf()/sscanf 读写入字符串"></a>sprintf()/sscanf 读写入字符串</h4><h4 id="数学计算-math-h"><a href="#数学计算-math-h" class="headerlink" title="数学计算(math.h)"></a>数学计算(math.h)</h4><h5 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h5><p>acos(double x)/asin(d)/atan(x)/atan2(x,y)/cos(d)/sin(x)/tan(x)  </p>
<h5 id="指数-对数函数"><a href="#指数-对数函数" class="headerlink" title="指数/对数函数"></a>指数/对数函数</h5><p>exp(double x)/log(double x)/modf(value,*p)  </p>
<h5 id="幂-取整，绝对值，取余"><a href="#幂-取整，绝对值，取余" class="headerlink" title="幂/取整，绝对值，取余"></a>幂/取整，绝对值，取余</h5><p>pow(x,y)/sqrt(x)/ceil(x)/fabs(x)/floor(x)/fmod(x,y)  </p>
<h4 id="字符处理-string-h"><a href="#字符处理-string-h" class="headerlink" title="字符处理(string.h)"></a>字符处理(string.h)</h4><p>tolower(int c)/topower(int c):大小写映射<br>字符串复制:*strcpy(*s1,*s2) / strncpy(*s1,*s2,int size) 及*memcpy/*memmove<br>字符串拼接:*strcat(*s1,*s2) / strncat(s1,s2,size)<br>字符串比较:memcmp,strcm,strcoll,strncmp,strxfrm<br>字符串搜索:*memchr / *strchr</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/02cocos2dx/" itemprop="url">
                  02.Cocos2dx笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Cocos2dx"><a href="#Cocos2dx" class="headerlink" title="Cocos2dx"></a>Cocos2dx</h1><p><a href="http://cocos.com/docs/creator/index.html" target="_blank" rel="external">CocosCreator使用手册</a> </p>
<h3 id="加载模块"><a href="#加载模块" class="headerlink" title="加载模块"></a>加载模块</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Monster = <span class="built_in">require</span>(<span class="string">"Monster"</span>);</div><div class="line"><span class="keyword">var</span> monsterComp = monster.getComponent(Monster);</div></pre></td></tr></table></figure>
<p>直接调用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> cardUtils = cc.find(<span class="string">'Canvas/Scripts'</span>).getComponent(<span class="string">'CardUtils'</span>);</div><div class="line">cardUtils.addCardToField();</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/01python/" itemprop="url">
                  01.Python笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><h3 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">a=<span class="number">1</span> <span class="comment">#整形 长整形</span></div><div class="line">a=<span class="number">1.2</span>,b=<span class="number">2E-10</span> <span class="comment">#浮点</span></div><div class="line">b=<span class="string">'String'</span>,b=<span class="string">u"str"</span> <span class="comment">#字符串 ,unicode字符</span></div><div class="line">c=[<span class="number">1</span>,<span class="number">2</span>] <span class="comment">#列表</span></div><div class="line">d=(‘a’,<span class="string">'c'</span>) <span class="comment">#元组</span></div><div class="line">e=&#123;<span class="string">"a"</span>:<span class="number">1</span>,<span class="string">"b"</span>:<span class="number">2</span>&#125; <span class="comment">#字典</span></div></pre></td></tr></table></figure>
<h3 id="定义方法"><a href="#定义方法" class="headerlink" title="定义方法"></a>定义方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">a</span><span class="params">()</span>:</span></div><div class="line">  <span class="comment">#方法体</span></div></pre></td></tr></table></figure>
<h3 id="if-while-for"><a href="#if-while-for" class="headerlink" title="if/while/for"></a>if/while/for</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#if</span></div><div class="line"><span class="keyword">if</span> a==<span class="number">1</span>:</div><div class="line">  <span class="keyword">print</span> <span class="number">1</span></div><div class="line"><span class="keyword">elif</span> a==<span class="number">2</span>:</div><div class="line">  <span class="keyword">print</span> <span class="number">2</span></div><div class="line"><span class="keyword">else</span>:</div><div class="line">  <span class="keyword">print</span> <span class="number">3</span></div><div class="line"></div><div class="line"><span class="comment">#while</span></div><div class="line"><span class="keyword">while</span> <span class="number">1</span>:</div><div class="line">  <span class="keyword">pass</span></div><div class="line"></div><div class="line"><span class="comment">#for 打印0-5</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">6</span>):</div><div class="line">  <span class="keyword">print</span> i</div><div class="line"><span class="keyword">else</span></div><div class="line">  <span class="keyword">pass</span></div></pre></td></tr></table></figure>
<h3 id="模块导入"><a href="#模块导入" class="headerlink" title="模块导入"></a>模块导入</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span></div><div class="line"><span class="keyword">from</span> 模块 <span class="keyword">import</span> 变量</div></pre></td></tr></table></figure>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">l=[<span class="number">1</span>,<span class="number">2</span>]</div><div class="line">l.append(<span class="number">3</span>) <span class="comment">#添加元素</span></div><div class="line">l.insert(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">#在位置1添加3</span></div><div class="line">l.count(<span class="number">1</span>) <span class="comment">#count个数</span></div><div class="line">l.index(<span class="number">2</span>) <span class="comment">#返回2出现的第一个的位置</span></div><div class="line">l.pop(<span class="number">1</span>) <span class="comment">#删除(返回删除的值)</span></div><div class="line">l.remove(<span class="number">1</span>) <span class="comment">#删除</span></div><div class="line">l.extend([<span class="number">3</span>,<span class="number">4</span>]) <span class="comment">#在列表l中添加列表[3,4]</span></div><div class="line">l.reverse() <span class="comment">#反转列表</span></div></pre></td></tr></table></figure>
<h3 id="元组和list转换"><a href="#元组和list转换" class="headerlink" title="元组和list转换"></a>元组和list转换</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tuple(lis)</div><div class="line">list(tem)</div></pre></td></tr></table></figure>
<h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">f=open(<span class="string">""</span>,<span class="string">"w"</span>) <span class="comment">#w写,r读取,a追加</span></div><div class="line">f.write(<span class="string">"py大法好"</span>) <span class="comment">#写文件</span></div><div class="line">f.close()</div></pre></td></tr></table></figure>
<h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>:</div><div class="line">  <span class="keyword">pass</span></div><div class="line"><span class="keyword">except</span> SomeException,e:</div><div class="line">  <span class="keyword">print</span> <span class="string">"wrong!"</span></div><div class="line"><span class="keyword">except</span>:</div><div class="line">  <span class="keyword">print</span> <span class="string">"wrong else!"</span></div></pre></td></tr></table></figure>
<h3 id="Python运算符"><a href="#Python运算符" class="headerlink" title="Python运算符"></a>Python运算符</h3><p><strong>  幂 3</strong>3<br>/   除<br>//  整除<br>%   取模<br>&amp; |   按位与/或<br>^ ~   按位异或 5^3=6/翻转x的按位翻转-(x+1)</p>
<h3 id="Python库"><a href="#Python库" class="headerlink" title="Python库"></a>Python库</h3><h4 id="sys-包含系统相关功能"><a href="#sys-包含系统相关功能" class="headerlink" title="sys 包含系统相关功能"></a>sys 包含系统相关功能</h4><p>sys.platform 平台类型<br>sys.modules 载入的模块</p>
<h3 id="其他语句"><a href="#其他语句" class="headerlink" title="其他语句"></a>其他语句</h3><h4 id="exec-‘print-“abc”‘"><a href="#exec-‘print-“abc”‘" class="headerlink" title="exec ‘print “abc”‘"></a>exec ‘print “abc”‘</h4><p>exec语句用来执行储存在字符串或文件中的Python语句；eval语句用来计算存储在字符串中的有效Python表达式。  </p>
<h4 id="assert-a-true"><a href="#assert-a-true" class="headerlink" title="assert a==true"></a>assert a==true</h4><p>assert语句用来断言某个条件是真的，并且在它非真的时候引发一个错误–AssertionError。</p>
<h4 id="eval"><a href="#eval" class="headerlink" title="eval"></a>eval</h4><p>eval语句用来计算存储在字符串中的有效Python表达式。  </p>
<h4 id="lambda-a-2-a-2"><a href="#lambda-a-2-a-2" class="headerlink" title="lambda a:2+a*2"></a>lambda a:2+a*2</h4><p>lambda语句被用来创建新的函数对象，并在运行时返回它们。lambda需要一个参数，后面仅跟单个表达式作为函数体，而表达式的值被这个新建的函数返回。 注意，即便是print语句也不能用在lambda形式中，只能使用表达式。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">lam1=<span class="keyword">lambda</span> a,b:a+b*b</div><div class="line"><span class="keyword">print</span> lam1(<span class="number">1</span>,<span class="number">2</span>)</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/exmarkdown/" itemprop="url">
                  其他.Markdown笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Markdown语法"><a href="#Markdown语法" class="headerlink" title="Markdown语法"></a>Markdown语法</h1><p><a href="http://www.appinn.com/markdown/" target="_blank" rel="external">中文手册</a></p>
<h4 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h4><p><code># //一级标题</code><br><code>###### //六级标题</code></p>
<h4 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h4><blockquote>
<p>to py or not to py,this is a question</p>
<blockquote>
<p>–by ywh  </p>
</blockquote>
</blockquote>
<h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><ul>
<li>name</li>
<li>sex</li>
</ul>
<ul>
<li>a</li>
<li>b</li>
</ul>
<ul>
<li>d</li>
<li>c  </li>
</ul>
<ol>
<li>a</li>
<li>c  </li>
</ol>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><p><code>code here</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h4><hr>
<hr>
<hr>
<hr>
<h4 id="链接-图片"><a href="#链接-图片" class="headerlink" title="链接/图片"></a>链接/图片</h4><p><a href="www.github.com">LInk</a><br><img src="https://avatars0.githubusercontent.com/u/3635420?v=3&amp;s=460" alt="Pic"></p>
<h4 id="强调-粗体"><a href="#强调-粗体" class="headerlink" title="强调/粗体"></a>强调/粗体</h4><p><em>Yeah</em><br><strong>Yeah</strong>  </p>
<h4 id="反斜杠"><a href="#反斜杠" class="headerlink" title="反斜杠"></a>反斜杠</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">\   反斜线</div><div class="line">`   反引号</div><div class="line">*   星号</div><div class="line">_   底线</div><div class="line">&#123;&#125;  花括号</div><div class="line">[]  方括号</div><div class="line">()  括弧</div><div class="line">#   井字号</div><div class="line">+   加号</div><div class="line">-   减号</div><div class="line">.   英文句点</div><div class="line">!   惊叹号</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/exemacs/" itemprop="url">
                  其他.Emacs笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="EMACS"><a href="#EMACS" class="headerlink" title="EMACS"></a>EMACS</h1><h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><p>C-p:上一页<br>C-n:下一页<br>C-f:向前<br>C-n:向后<br>C-a:行首<br>C-e:行尾<br>C-@:mark<br>C-w:移除mark文字<br>C-k:移除整行,再次按下移除换行符  </p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>命令后加数字多数是重复执行命令:C-20-n 下20行<br>终止结果:C-g  </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/08/exatom/" itemprop="url">
                  其他.ATOM笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-08T02:17:37+08:00" content="2016-08-08">
              2016-08-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ATOM"><a href="#ATOM" class="headerlink" title="ATOM"></a>ATOM</h1><h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><p>C-p:上一页<br>C-n:下一页<br>C-f:向前<br>C-n:向后<br>C-a:行首<br>C-e:行尾  </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Alucardlockon" />
          <p class="site-author-name" itemprop="name">Alucardlockon</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alucardlockon</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
